# 英文悬浮翻译 Chrome 插件

一个功能丰富的Chrome浏览器插件，支持划词翻译英文单词和短语，并提供生词表管理功能。

## 功能特点

- 🌐 **划词翻译**：选中英文单词或短语，点击翻译按钮即可显示中文翻译
- 📝 **英文例句**：显示单词在实际语境中的使用方法，帮助学习
- 🔤 **中文例句**：提供对应的中文翻译，便于理解
- 🔊 **语音朗读**：支持英文单词的语音朗读功能
- ⭐ **生词表**：收藏不熟悉的单词，方便复习和管理
- 📤 **Anki导出**：将生词表导出为CSV格式，可直接导入Anki进行记忆训练
- 🎵 **Anki音频卡片**：生成的Anki卡片包含中英文发音，支持自动播放和点击播放
- 🤖 **多翻译源**：支持SiliconFlow、OpenAI、Google等多种翻译服务
- ⚡ **快速响应**：本地缓存翻译结果，提高响应速度
- 🎯 **智能识别**：自动识别英文单词，过滤无关内容
- 🎨 **美观界面**：简洁现代的用户界面设计
- ⚙️ **个性设置**：可自定义启用状态和自动发音

## 安装方法

### 开发者模式安装

1. 下载或克隆此项目到本地
2. 打开Chrome浏览器，进入扩展程序页面（chrome://extensions/）
3. 开启右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择项目文件夹
6. 插件安装完成！

## 使用方法

### 基本翻译
1. **选中文本**：用鼠标选中要翻译的英文单词或短语
2. **点击翻译**：点击出现的蓝色🌐翻译按钮
3. **查看结果**：在弹出的翻译窗口中查看：
   - 单词释义和发音
   - 📝 英文例句（绿色显示）
   - 🔤 中文例句（灰色显示）
   - 同义词和常用短语
4. **听取发音**：点击🔊按钮听取单词发音
5. **学习用法**：通过英文例句学习单词的实际使用方法

### 生词表功能
1. **添加生词**：在翻译弹窗中点击⭐按钮将单词添加到生词表
2. **管理生词**：点击扩展图标，切换到"生词表"标签页
3. **复习生词**：在生词表中可以重新听发音或删除不需要的单词
4. **导出Anki**：点击"📤 Anki"按钮将生词表导出为CSV格式
5. **清空生词**：点击"清空"按钮可以删除所有生词

### Anki集成
1. **导出生词**：在生词表中点击"📤 Anki"按钮
2. **下载CSV**：系统自动下载vocabulary_日期.csv文件
3. **导入Anki**：在Anki中选择"文件→导入"，选择CSV文件
4. **音频卡片**：生成的Anki卡片包含中英文发音功能：
   - 🔊 **自动播放**：卡片显示时延迟500ms自动播放发音
   - 👆 **点击播放**：点击🔊按钮手动播放发音
   - 🎨 **美观控件**：圆形播放按钮，中文橙色，英文蓝色
   - 📱 **跨平台**：支持Anki桌面版、AnkiDroid、AnkiMobile
5. **开始学习**：利用Anki的间隔重复算法进行高效记忆

> 详细的Anki导入步骤请参考 [ANKI_IMPORT_GUIDE.md](ANKI_IMPORT_GUIDE.md)  
> Anki音频卡片功能说明请参考 [ANKI_AUDIO_CARDS.md](ANKI_AUDIO_CARDS.md)

### 插件设置
- 点击浏览器工具栏中的插件图标
- 可以开启/关闭翻译功能
- 可以开启/关闭自动发音功能
- 可以选择翻译服务（Google/SiliconFlow/OpenAI）

### 翻译服务配置

#### Google翻译（默认）
- 无需配置，免费使用
- 提供基础翻译和简单例句

#### SiliconFlow翻译（推荐）
- 需要配置API密钥
- 提供高质量的AI生成例句
- 支持详细的词性和释义

#### OpenAI翻译
- 需要配置API密钥、服务地址和模型
- 支持GPT模型，生成自然流畅的例句
- 兼容多种OpenAI API服务商

> 详细配置方法请参考 [SILICONFLOW_SETUP.md](SILICONFLOW_SETUP.md) 和 [OPENAI_SETUP.md](OPENAI_SETUP.md)

## 技术实现

- **翻译API**：使用Google翻译的免费API
- **语音合成**：使用浏览器内置的Web Speech API
- **数据存储**：使用Chrome存储API保存设置和生词表
- **缓存机制**：使用Map对象缓存翻译结果
- **响应式设计**：适配不同屏幕尺寸

## 文件结构

```
├── manifest.json      # 插件配置文件
├── content.js         # 内容脚本（翻译和生词表功能）
├── popup.html         # 弹出窗口HTML（设置和生词表界面）
├── popup.js           # 弹出窗口脚本
├── styles.css         # 样式文件
├── test.html          # 测试页面
└── README.md          # 说明文档
```

## 更新日志

### v1.4.0 (最新)
- 🎵 **Anki音频卡片**：生成的Anki卡片包含中英文发音功能
- 🔊 **自动播放**：卡片显示时延迟500ms自动播放发音
- 👆 **点击播放**：点击🔊按钮手动播放发音
- 🎨 **美观音频控件**：圆形播放按钮，中文橙色，英文蓝色
- 📱 **跨平台兼容**：支持Anki桌面版、AnkiDroid、AnkiMobile
- 🎵 **多语言TTS**：使用Google TTS生成高质量中英文音频

### v1.3.0
- 📝 **新增英文例句功能**：显示单词在实际语境中的使用
- 🔤 **中文例句翻译**：提供对应的中文翻译帮助理解
- 🤖 **多翻译服务支持**：集成SiliconFlow和OpenAI翻译服务
- 🎨 **优化界面设计**：例句以卡片形式美观展示
- 📱 **响应式适配**：更好地适配各种屏幕尺寸

### v1.2.0
- 📤 新增Anki导出功能
- ✨ 支持将生词表导出为CSV格式
- 🎯 完美集成Anki间隔重复学习系统
- 📚 提供详细的Anki导入指南

### v1.1.0
- ✨ 新增生词表功能
- ✨ 支持收藏和管理不熟悉的单词
- 🎨 优化用户界面，添加标签页设计
- 🔧 改进翻译触发方式（从悬浮改为划词选择）
- 📱 支持最多保存500个生词

### v1.0.0
- 🎉 初始版本发布
- 🌐 基本的悬浮翻译功能
- 🔊 语音朗读功能
- ⚙️ 基础设置选项

## 注意事项

- 插件需要网络连接才能获取翻译结果
- 某些网站可能因为CSP策略限制翻译功能
- 生词表数据保存在浏览器本地，卸载插件会丢失数据
- 建议定期备份重要的生词表内容

## 开发说明

如需修改或扩展功能：

1. 修改相应的JavaScript或CSS文件
2. 在Chrome扩展程序页面点击"重新加载"按钮
3. 刷新测试页面查看效果

## 浏览器兼容性

- Chrome 88+
- Edge 88+
- 其他基于Chromium的浏览器

## 许可证

MIT License - 可自由使用和修改